<script>
// ====== TOP BAR DESKTOP MENU CONTROLS (plz abstract me) ======
var user_toggler = $('#me_toggle'), 
    admin_toggler = $('#admin_toggle'),
    desktop_user_menu = $('.user_options ul'),
    desktop_admin_menu = $('.client_admin_pages');

function hideUserMenu() {
  user_toggler.find('.shadow_overlay').hide();
  user_toggler.removeClass('toggled');
  desktop_user_menu.slideUp('fast');
}
function hideAdminMenu() {
  admin_toggler.removeClass('toggled');
  desktop_admin_menu.slideUp('fast');
}

function showUserMenu() {
  user_toggler.find('.shadow_overlay').show();
  user_toggler.addClass('toggled');
  desktop_user_menu.slideDown('fast');
}
function showAdminMenu() {
  admin_toggler.addClass('toggled');
  desktop_admin_menu.slideDown('fast');
}

function optionsToggle() {
  $('html').click(function() {
    if(desktop_user_menu.is(':visible') || desktop_admin_menu.is(':visible')) {
      hideUserMenu();
      hideAdminMenu();
    } else {}
  });
  user_toggler.click(function() {
    if(desktop_admin_menu.is(':visible')) {
      hideAdminMenu();
    } 
    if(desktop_user_menu.is(':visible')) {
      hideUserMenu();
    } else {
      showUserMenu();
      return false;
    }
  });
  admin_toggler.click(function() {
    if(desktop_user_menu.is(':visible')) {
      hideUserMenu();
    }
    if(desktop_admin_menu.is(':visible')) {
      hideAdminMenu();
    } else {
      showAdminMenu();
      return false;
    }
  });
}
</script>