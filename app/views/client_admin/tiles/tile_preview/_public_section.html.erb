<div class="share_options">
  <div class='row'>
  <ul class='columns'>
    <li class="add_tag">
      <% add_tag_class = form.object.tile_tags.present? ? '' : 'highlighted' %>
      <%= text_field_tag 'add-tag', nil, placeholder: 'Add Tag (required)', class: add_tag_class %>
      <ul class="tile_tags">
        <% form.object.tile_tags.each do |tile_tag| %>
          <li id='<%=tile_tag.id%>'>
            <%=tile_tag.title%>
            <%=fa_icon 'times'%>
          </li>
        <% end %>
      </ul>  
      <%= form.text_field :tile_tag_ids %>
      </li>

    <li class="allow_copying">
      <% copy_switch_classes = %w(switch small round allow_copy) %>
      <% copy_switch_classes << 'disabled' unless form.object.tile_tags.present? %>
      <%= content_tag 'div', class: copy_switch_classes do %>

        <%= form.radio_button :is_copyable, true, id: 'allow_copying_on' %>
        <%= form.radio_button :is_copyable, false, id: 'allow_copying_off' %>

        <span class='green-paddle'></span>
      <% end %>
      <div class="allow_copying_message">
        Allow Copying
      </div>          
    </li>

    <% share_to_explore_classes = %w(share_to_explore) %>
    <% share_to_explore_classes << 'disabled' unless form.object.tile_tags.present? %>
    <% share_to_explore_classes << 'remove_from_explore' if form.object.is_public %>
    <% share_to_explore_text = form.object.is_public ? 'Remove from Explore' : 'Share to Explore' %>
    <%= content_tag 'li', class: share_to_explore_classes do %>
      <%= share_to_explore_text %>
    <% end %>
    <div id="share_to_explore_buttons">
      <%= form.radio_button :is_public, true, id: 'share_on' %>
      <%= form.radio_button :is_public, false, id: 'share_off' %>
    </div>
    <li><div id="successful_share">Success--thanks for sharing!</div></li>

  </ul>
  </div>
  <div id="tag-autocomplete-target"></div>
  <div class='row'>
    <ul class="columns">
      <li><div class='tag_alert'>Tiles shared to explore must have at least one tag.</div></li>
    </ul>
  </div>
</div>

<% content_for :javascript do %>
  <%= javascript_tag do %>
    $().ready(function(){
      bindTagNameSearchAutocomplete('#add-tag', '#tag-autocomplete-target', '<%= client_admin_tile_tags_path %>');
    })
  <% end %>
<% end %>
