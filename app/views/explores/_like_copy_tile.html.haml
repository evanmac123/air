-# OPTZ: cache me
-if @liked_tile_ids.include?(tile.id)
  - display_liked = 'display:block;'
  - display_unliked = 'display:none;'
-else
  - display_liked = 'display:none;'
  - display_unliked = 'display:block;'

.tile_liked{class:"tile-#{tile.id}", style:display_liked}
  %span.like_message
    = tile.like_count
  = fa_icon 'arrow-up'
  =link_to 'Voted Up', explore_tile_likes_path(tile_id: tile.id, path: @tile_tag ? :via_explore_page_subject_tag : :via_explore_page_thumbnail), method: :delete, remote: true
.tile_not_liked{class:"tile-#{tile.id}", style:display_unliked}
  %span.like_message
    -if tile.like_count > 0
      = tile.like_count
  = fa_icon 'arrow-up'
  = link_to 'Vote Up', explore_tile_likes_path(tile_id: tile.id, path: @tile_tag ? :via_explore_page_subject_tag : :via_explore_page_thumbnail), method: :post, remote: true

- if current_user.copied_tile?(tile)
  %span.copied
    = render "copy_link", tile: tile

- elsif !tile.is_copyable?
  %span.viewonly_message
    = fa_icon 'minus-circle'
    = "View Only"

- else
  %span.not_copied
    = render "copy_link", tile: tile
