<% form_submit_path = suggested_task.new_record? ? 
  admin_demo_suggested_tasks_path(suggested_task.demo) : 
  admin_demo_suggested_task_path(suggested_task.demo, suggested_task) %>
<%= semantic_form_for suggested_task, :url => form_submit_path do |f| %>
  <%= f.input :name %>
  <%= f.input :short_description %>
  <%= f.input :long_description %>
  <%= f.input :prerequisites, :collection => @existing_tasks %>
  <%= f.input :start_time, :twelve_hour => true %>
  <%= f.submit %>
<% end %>
